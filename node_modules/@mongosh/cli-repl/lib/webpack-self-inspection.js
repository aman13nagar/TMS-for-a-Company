"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
var _a, _b;
Object.defineProperty(exports, "__esModule", { value: true });
const v8_1 = __importDefault(require("v8"));
function enumerateLoadedModules() {
    if (typeof __webpack_module_cache__ !== 'undefined') {
        return Object.keys(__webpack_module_cache__);
    }
    return null;
}
function enumerateAllModules() {
    if (typeof __webpack_modules__ !== 'undefined') {
        return Object.keys(__webpack_modules__);
    }
    return null;
}
function lookupNaturalModuleName(id) {
    var _a;
    let lookupTable = null;
    if (typeof __webpack_reverse_module_lookup__ !== 'undefined')
        lookupTable = __webpack_reverse_module_lookup__();
    return (_a = lookupTable === null || lookupTable === void 0 ? void 0 : lookupTable[id]) !== null && _a !== void 0 ? _a : null;
}
Object.defineProperty(process, '__mongosh_webpack_stats', {
    value: {
        enumerateLoadedModules,
        enumerateAllModules,
        lookupNaturalModuleName,
    },
});
if ((_b = (_a = v8_1.default === null || v8_1.default === void 0 ? void 0 : v8_1.default.startupSnapshot) === null || _a === void 0 ? void 0 : _a.isBuildingSnapshot) === null || _b === void 0 ? void 0 : _b.call(_a)) {
    v8_1.default.startupSnapshot.addSerializeCallback(() => {
        const atSnapshotTime = enumerateLoadedModules();
        process.__mongosh_webpack_stats.enumerateSnapshotModules = () => atSnapshotTime;
    });
}
//# sourceMappingURL=webpack-self-inspection.js.map